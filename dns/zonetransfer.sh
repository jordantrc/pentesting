#!/bin/bash
# Simple zone transfer script
# $1 is the first argument after the name of the script

# first check if an argument was given
if [ -z "$1" ]; then
	echo "[*] Simple zone transfer script"
	echo "[*] Usage: $0 <domain name> "
	exit 1
fi

# if argument given, identify DNS servers for the domain
for server in $(host -t ns $1 | cut -d " " -f 4); do
	# for each server, try a zone transfer
	host -l $1 $server | grep "has address"
done

